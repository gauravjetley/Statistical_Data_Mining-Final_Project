{
    "contents" : "## Loading all data files \nd1pur <- read.table(\"D1PUR.dat\")\ncolnames(d1pur) <- c(\"HH_id\",\"trip_info\")\n\nmerch <- read.table(\"MERCH.dat\")\ncolnames(merch) <- c(\"SKU#\",  \"store#\",  \"IRIweek\",  \"price_paid\",  \"merchandising\")\n\narsp <- read.table(\"ARSP.dat\")\ncolnames(arsp) <- c(\"SKU#\",  \"store#\", \"ARSP\")\n\nbrsinfo <- read.table(\"BRSINFO.dat\")\ncolnames(brsinfo) <- c(\"SKU#\",  \"description_of_SKU\",  \"brand\",  \"form\",  \"formula1\", \"formula2\",\n                    \"size\",  \"brand#\",  \"form#\",  \"formula2#\",  \"size#\")\n\niridates <- read.table(\"IRIdates.csv\", skip = 540, sep=\",\")\niridates <- iridates[,1:2]\ncolnames(iridates) <- c(\"week#\", \"ending_date\")\n\n################################\n## Cleaning Individual Dataframes\n################################\n\nView(d1pur)\n# variable Trip_Info is in  format AAABBBCCC \n# AAA = IRI week\n# BBB = store#\n# CCC = SKU# purchased\nd1pur[,3]<- substr(d1pur[,2],0,3)\nd1pur[,4]<- substr(d1pur[,2],4,6)\nd1pur[,5]<- substr(d1pur[,2],7,9)\ncolnames(d1pur) <- c(\"HH_id\", \"trip_info\", \"iri_week\", \"store#\", \"sku#_pur\")\n\nView(merch)\n# Converting SKU# to 3 digit format\nmerch[,1] <- sprintf(\"%03d\",merch[,1])\n# Converting store# to 3 digit format\nmerch[,2] <- sprintf(\"%03d\",merch[,2])\n# Converting all merchandising obs to 6 digit format\nmerch[,5] <- sprintf(\"%06d\",merch[,5])\n# The format of the merchandising variable is AAABCD where\n# AAA = depromoted price\n# B   = ignore\n# C   = display\n# D   = feature\nmerch[,6] <- substr(merch[,5],0,3)\nmerch[,7] <- substr(merch[,5],4,4)\nmerch[,8] <- substr(merch[,5],5,5)\nmerch[,9] <- substr(merch[,5],6,6)\ncolnames(merch) <- c(\"SKU#\",  \"store#\",  \"IRIweek\",  \"price_paid\",  \"merchandising\", \n                     \"regular_price\", \"ignore\", \"display\", \"feature\")\n# Creating dummies for feature and display\nmerch[,10] <- ifelse(as.numeric(merch[,8])>=1,1,0)\nmerch[,11] <- ifelse(as.numeric(merch[,9])>=1,1,0)\ncolnames(merch) <- c(\"SKU#\",  \"store#\",  \"IRIweek\",  \"price_paid\",  \"merchandising\" \n                     ,\"regular_price\", \"ignore\", \"display\", \"feature\", \"d_disp\", \"d_feat\")\n# Converting regular_price into \"0.00\" format\nmerch[,6] <- paste(substr(merch[,6],0,1),substr(merch[,6],2,3),sep = \".\")\nmerch[,6] <- as.numeric(merch[,6])\n# Creating new variable price_cut\n# price_cut = regular_price - price_paid (if the result is < 0, price_cut = 0)\nmerch[,12] <- merch[,6] - merch[,4] \nmerch[,12] <- ifelse(merch[,12]<0,0,merch[,12])\ncolnames(merch) <- c(\"SKU#\",  \"store#\",  \"IRIweek\",  \"price_paid\",  \"merchandising\" \n                     ,\"regular_price\", \"ignore\", \"display\", \"feature\", \"d_disp\", \"d_feat\", \"price_cut\")\n\nView(arsp)\n# Converting SKU# to 3 digit format\narsp[,1] <- sprintf(\"%03d\",arsp[,1])\n# Converting store# to 3 digit format\narsp[,2] <- sprintf(\"%03d\",arsp[,2])\n\nView(brsinfo)\n# Getting rid of Formula1 col\nbrsinfo <- brsinfo[,c(1,2,3,4,6,7,8,9,10,11)]\nbrsinfo <- brsinfo[,c(1,3,4,5,6)]\n# Creating Dummy Variables\nbrsinfo <- cbind2(brsinfo, model.matrix(~brand -1,brsinfo))\nbrsinfo <- cbind2(brsinfo, model.matrix(~form -1,brsinfo))\nbrsinfo <- cbind2(brsinfo, model.matrix(~formula2 -1,brsinfo))\nbrsinfo <- cbind2(brsinfo, model.matrix(~size -1,brsinfo))\n\n\n####################\n# Making dataset\n####################\n# Combining brsinfo and arsp\narsp_brs <- cbind2(arsp,brsinfo)\n\n\n\n\n\n\n\n\n\n",
    "created" : 1447425425936.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4085269753",
    "id" : "3A3CB19A",
    "lastKnownWriteTime" : 1447931281,
    "path" : "~/Studies/Courses/USF/Statistical Data Mining/Final Project/fabric_softener/SDM_Final_Proj.R",
    "project_path" : "SDM_Final_Proj.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "type" : "r_source"
}