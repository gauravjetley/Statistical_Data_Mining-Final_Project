{
    "contents" : "## Dr. Daniel's R Script for Cleaning and getting one integrated file\n\nsetwd(\"C:…\\fabric_softener\")\npurdata<-read.table(\"D1PUR.DAT\")\npurdata$IRIWeek<-substring(purdata$V2,1,3)\npurdata$Store<-as.numeric(substring(purdata$V2,4,6))\npurdata$SKU<-as.numeric(substring(purdata$V2,7,9))\npurdata<-purdata[,c(\"V1\",\"IRIWeek\", \"Store\", \"SKU\")]\nnames(purdata)<-c(\"HHId\",\"IRIWeek\",\"Store\",\"SKU\")\nmerchdata<-read.table(\"MERCH.DAT\")\n       \n       \nfor(i in 1:length(merchdata$V5))\n  {\n  if(nchar(merchdata[i,\"V5\"])<6)\n    {\n    ZeroString<-character()\n    for(j in 1:(6-nchar(merchdata[i,\"V5\"])))\n      {\n      ZeroString<-paste(ZeroString,0,sep='')\n      }\n    merchdata[i,\"V5\"]<-paste(ZeroString,merchdata[i,\"V5\"],sep='')\n    }\n  }\n\nmerchdata$Price<-as.numeric(substring(merchdata$V5,1,3))\nmerchdata$Display<-as.numeric(substring(merchdata$V5,5,5))\nmerchdata$Feature<-as.numeric(substring(merchdata$V5,6,6))\nmerchdata$Price<-merchdata$Price/100\nmerchdata<-merchdata[,-5]\nmerchdata<-merchdata[,c(\"V1\",\"V2\",\"V3\",\"V4\",\"Price\",\"Display\",\"Feature\")]\nnames(merchdata)<-c(\"SKU\",\"Store\",\"IRIWeek\",\"PricePaid\",\"RegPrice\",\"Display\",\"Feature\")\nmerchdata$IRIWeek<-as.numeric(merchdata$IRIWeek)\npurplusmerch <- merge(purdata, merchdata, by=c(\"IRIWeek\", \"Store\",\"SKU\"))\nattrdata<-read.csv(\"Membership panel Data.csv\")\nattrdata<-attrdata[,-1]\nattrplusmerch <- merge(purplusmerch, attrdata, by=c(\"SKU\"))\narspdata<-read.table(\"ARSP.DAT\")\nnames(arspdata)<-c(\"SKU\",\"Store\",\"ARSP\")\nfinaldata <- merge(attrplusmerch, arspdata, by=c(\"SKU\",\"Store\"))\nfinaldata<-finaldata[,c(\"HHId\",\"SKU\",\"IRIWeek\",\"ARM\",\"BNC\",\"CLF\",\"DWN\",\"FNT\",\"GEN\",\"PRL\",\"SNG\",\"STP\",\"TSN\",\"B\",\"F\",\"L\",\"S\",\"LT\",\"RG\",\"ST\",\"UN\",\"LR\",\"MD\",\"SM\",\"XL\",\"PricePaid\",\"RegPrice\",\"ARSP\",\"Display\",\"Feature\")]\nfinaldata$PriceCut<-finaldata$RegPrice-finaldata$PricePaid\nfinaldata<-finaldata[,c(\"HHId\",\"SKU\",\"IRIWeek\",\"ARM\",\"BNC\",\"CLF\",\"DWN\",\"FNT\",\"GEN\",\"PRL\",\"SNG\",\"STP\",\"TSN\",\"B\",\"F\",\"L\",\"S\",\"LT\",\"RG\",\"ST\",\"UN\",\"LR\",\"MD\",\"SM\",\"XL\",\"RegPrice\",\"PriceCut\",\"ARSP\",\"Display\",\"Feature\")]\nnames(finaldata)<-c(\"HHId\",\"SKU\",\"IRIWeek\",\"ARM\",\"BNC\",\"CLF\",\"DWN\",\"FNT\",\"GEN\",\"PRL\",\"SNG\",\"STP\",\"TSN\",\"B\",\"F\",\"L\",\"S\",\"LT\",\"RG\",\"ST\",\"UN\",\"LR\",\"MD\",\"SM\",\"XL\",\"Price\",\"PriceCut\",\"AveragePrice\",\"Display\",\"Feature\")\nwrite.csv(finaldata,”finalized_data.csv\",row.names=FALSE)",
    "created" : 1447706503834.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1686839931",
    "id" : "173305AF",
    "lastKnownWriteTime" : 1447707364,
    "path" : "~/Studies/Courses/USF/Statistical Data Mining/Final Project/fabric_softener/Dr Daniels Script.R",
    "project_path" : "Dr Daniels Script.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "type" : "r_source"
}